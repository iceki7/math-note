**一个必要条件**

为曲线下方$[x_0,x]$的面积安排一个函数（数分里管它叫一个测度，它需要满足测度的若干性质）$A(x)$

在曲线上一个单调增区间上取点x，设：

$$
S=f(x)d
$$
$$
S'=(f(x+d)-f(x))d 
$$
$$
C=A(x+d)-A(x)-S
$$
于是
$$
\lim\frac{S'}{S}=0，假设f(x)\neq 0
$$
而$C<S'$,所以
$$
\lim \frac{C}{S}=
\lim\frac{C}{d}=0
$$
因此
$$
A'(x)=f(x)
$$

**小矩形分割**


以上还不足以证明A就是用小矩形逼近的面积。它只是面积函数的一个必要条件，即如果有面积函数A,那么它必须满足A'=f。


下面证明无限多小矩形的逼近就可以得到A，即误差趋于零。

(来自知乎)

一个区间均匀分割成n段，每一段的长度$d$，总长度$D$，每一段的误差为$C_i，C的含义和上面相同$，则：
$$
C_i\leq d^2k_i
$$
$k$是$S'$对角线的斜率。设$K$为$k_i$中的最大值，则
$$
\sum C_i\leq \sum d^2K^2=\frac{D^2K}{n}
$$
因为K是割线斜率,可用拉格朗日中值定理将它归结为某个点的导数值。对于实际的应用场景，导函数几乎总是有最大值的。所以K有上界，即：
$$
\lim_{n\rightarrow +\infty}\frac{D^2K}{n}=0
$$
也就证明了$A$和小矩形分割方法的误差趋于无穷小。

简单来说，由于面积包含了平方运算，因此面积误差是区间长度的二阶无穷小，对每个二阶无穷小进行一阶的无穷多次求和后，得到的仍然是一阶无穷小，再取极限就归为零了。

