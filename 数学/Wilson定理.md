### Wilson定理


考虑$f(x)=x^{-1},x\in \mathbb{Z}_p^*$


由于$f(x)$是一个置换，而且还是一个对合，所以会想到要讨论它有没有不动点



先处理掉它的边界情况：$1^{-1}=1,(p-1)^{-1}=p-1$


然后考虑$x\in [2,p-2]$。
由素数的性质可知，$f(x)\neq x$，所以没有不动点。因此它们可以两两组合起来：


$$
(p-1)!\equiv p-1 \mod p
$$

---

对于$\mathbb{Z}_n^\phi$就没有这样的性质。

因为f(x)可能拥有除了1,n-1以外的不动点。比如$24|5\cdot 5-1$

假设a是一个不动点，那么$n|(a+1)(a-1)$，



所以，如果一个数它的左右邻居中起码有一个是n的倍数，那么它就是不动点。
（其实就只有1,n-1两种情况)这种情况是平凡的。

否则，就要保证两个邻居都和n不互质才有可能有不动点。
