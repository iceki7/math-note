
从二次整环出发，证明平方和定理


$$
Z[\sqrt{D}]=a+b\sqrt{D}\\a,b\in Z
\\D=\pm1,\pm p
$$


---
**单位元**

例如$Z[i]$，如果定义等价关系，$z\sim iz\sim -z\sim -iz$，那么乘法单位元就是$(1,-1,i,-1)$

以下，将$Z[\sqrt{D}]$中的乘法单位元写为$\mathbf{1,0}$，

则：
$\mathbf{0}=0,\mathbf{1}=1$

元素不加说明都在$Z[\sqrt{D}]$中

使用共轭的概念，并且把数中含$\sqrt{D}$的部分记为实部$R$，另一部分记为虚部$I$。


---
**（乘法）可逆元**

$a|e$,e是单位元

---
**可约元**

$\exists a,b, m=ab$,且$a,b$不可逆。（它通常和素元不同，但在某些情况下可以等价）

---
**零因子**

容易证明不存在。

---

如果$p$是素元，那么$\bar{p}$是素元。

$\bar{p}|ab\Rightarrow p|\bar{a}\bar{b}\Rightarrow p|\bar{a} \Rightarrow \bar{p}|a$


如果$z|1$，那么$\bar{z}|1$:

$\overline{zz^{-1}}=\bar{z}\overline{({z}^{-1})}=1，$，所以$\bar{z}|1,\bar{z}^{-1}=\overline{z^{-1}}$。


---

$a,b\in Z，在二次整环中a|b当且仅当在整数环中a|b$

---
**素元**

$p|ab\rightarrow p|a或p|b$，且p不为0，不可逆。

假设p可约，$p=ab|ab，→ab|a→a=abc,\\a(1-bc)=0,bc=1,而b是不可约的，??$

所以素元不可约，所以$(R(p),I(p))=1$

---

**定理1** 如果$z|1,那么|z\bar{z}|=1.$

$$
若(R,I)\neq 1\Rightarrow (R,I)|z,z|1
$$
即$(R,I)|1$，这是不可能的

所以$(R,I)=1$


$$
z^{-1}z\bar{z}=\bar{z},
设z\bar{z}=R'，注意到z\bar{z}R(z^{-1})=R\\
所以z\bar{z}|R\\
同时，注意到i\bar{z}|1,所以z\bar{z}|I，即\bar{z}z|1
$$


---

**定理2**

如果D是奇素数，$z$是素元当且仅当$z\bar{z}$是一个素数$p\neq D$

证明（左推右）：
$z|z\bar{z}=p_1p_2...$

如果z是素元，那么存在$p|z\bar{z}$，$z|p,nz=p$

设$n=x+y\sqrt{D}$
$$

xR+yID=p\\yR+xI=0 \\

\Leftrightarrow(x^2-y^2D)R=xp=n\bar{n}R
$$
1.x=0   
    显然y!=0
    
    这要求R=0，yID=p。
    当且仅当|D|=1时，这个分支成立。


2.x!=0
    这要求R!=0。

    若$(R,P)=1，则p|nn',x=nn'R/p,y=-nn'I/p$
    
    若P|R，则解同上。但此时要求$p|-nn'I$，
        若p|I，此时y有解。
        反之，p|nn'，此时y同样有解。

    综上，
当$R!=0时$
$$
n=\frac{p}{z\bar{z}}\bar{z}\Rightarrow z\bar{z}|pR,pI
$$
由于$(R,I)=1$，如果$(z\bar{z},p)=1，$那么$z\bar{z}$就是R,I的公因子，但是如果$|z\bar{z}|=1$，那么$z|z\bar{z}|1$,z可逆，这是不可能的。

所以$z\bar{z}|p,|z\bar{z}|=p$

---

右推左：

$$z
\bar{z}=p,z|ab\Rightarrow \frac{ab}{z}=\frac{ab}{z\bar{z}}\bar{z}$$
那么D是p的二次剩余。

