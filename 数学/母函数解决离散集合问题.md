​
问题来自3B1B：

bilibili.com/video/BV1R34y1W7Xn

​
问：1~2000这些数字中，取若干个数字构成一个子集。在所有子集中，元素的和为5的倍数的集合有多少个？


一开始的想法是，先数从1~n的元素构成的集合。

比如，从{1,2}中选取子集，那么子集的元素的和有1，2，3；

然后，加上3这个数字，那么新增的集合有：
$$
\begin{Bmatrix} 1,2 \end{Bmatrix}\cup \begin{Bmatrix} 3 \end{Bmatrix}, \begin{Bmatrix} 2 \end{Bmatrix}\cup \begin{Bmatrix} 3 \end{Bmatrix}, \begin{Bmatrix} 1 \end{Bmatrix}\cup \begin{Bmatrix} 3 \end{Bmatrix}
$$

类似的，加上4这个数字，那么新增的集合有：
$$
\begin{Bmatrix} 1 \end{Bmatrix}\cup \begin{Bmatrix} 4 \end{Bmatrix}, \begin{Bmatrix} 2 \end{Bmatrix}\cup \begin{Bmatrix} 4 \end{Bmatrix}, ......\begin{Bmatrix} 1,2,3 \end{Bmatrix}\cup \begin{Bmatrix} 4 \end{Bmatrix}
$$

可以用一个母函数表示这种关系：
$$
\large p(x)=(1+x)(1+x^2)...(1+x^{2000})
$$
其中，指数代表着新增的集合中数字的和，而x^n的系数则代表和为n的集合有多少种。

每多一个乘积项，就代表引入一个新的数字。

可以看到**卷积**的影子：指数代表元素。每一项相乘，就求出了子集的元素和，而系数则表示这样的集合有多少个。每一个子集就是一种2选1相乘的方法。所以，假设元素和为n的子集有k(n)个，那么k(n)=c_n


设：$p(x)=c_0+c_1x+c_2x^2+...+c_nx^n$

则等于就是要求出：$c_5+c_{10}+...+c_n$

为此，引入复数$\large \zeta=e^{\frac{2}{5}\pi i}$，可以看到$\large \zeta,\zeta^2,...\zeta^5$是沿着复平面原点延伸出去的5个单位向量，将圆周五等份。

则$\large p(\zeta)=c_0+c_1\zeta+c_2\zeta^2+...+c_n\zeta^n$

1,2,3,4和5是互质的，因此$\large (\zeta^2)^i,i=1,2,3,4,5$ 不过是将$\large \zeta^1,\zeta^2,...\zeta^5$进行了一下置换。


所以可以写出下列式子：
$$\large p(\zeta^2)=c_0+c_1\zeta^2+c_2\zeta^4+c_3\zeta+c_4\zeta^3 +c_5+...$$
$$\large \large p(\zeta^3)=c_0+c_1\zeta^3+c_2\zeta+c_3\zeta^4+c_4\zeta^2 +c_5+...$$
$$
\large \large \large p(\zeta^4)=c_0+c_1\zeta^4+c_2\zeta^3+c_3\zeta^2+c_4\zeta +c_5+...
$$
如果把$\zeta$的次数写成一个矩阵，则这个矩阵任取一行（或一列），元素都不重复。

注意到
$$\large \large 1+\zeta+\zeta^2+\zeta^3+\zeta^4=0$$
所以
$$\large \sum_{i=1}^5 p(\zeta^i)=5(c_0+c_5+...+c_n)$$

下面求$\large p(\zeta)$，

由于后面几项是共轭的，所以$p(\zeta)=2^{400}$，同理$p(\zeta^i)=2^{400}$

故$​​​​​​\large c_0+c_5+...+c_n=\frac{2^{400}\times 4+2^{2000}}{5}$


​​