
**推导Q的基本运算**

以下，**$a_{+}$表示比a大的数，x,y,z,w代表整数,p,q代表有理数。**

四则运算容易定义。定义乘方：
$$
p^{z/w}
=\sqrt[w]{p^{z}}
$$
开方的值用另一篇文章提到的逼近算法得到，当然，可能是无理数。

下面推导$\sqrt[w]{p_1p_2}$

设$\sqrt[w]{p_1},\sqrt[w]{p_2}$的柯西序列为$a_n,b_n$，

则
$$
\lim a_n^w=p_1，所以
\lim (a_n^wb_n^w)=\lim (a_nb_n)^w=p_1p_2,\\ 
$$

实数乘法被定义为柯西序列的依次相乘，

所以$\sqrt[w]{p_1p_2}=\sqrt[w]{p_1}\sqrt[w]{p_2}$

进一步地，
$$
p^{z/w+z'/w'}=\sqrt[ww']{p^{zw'+z'w}}=\sqrt[ww']{p^{zw'}p^{z'w}}\\=\sqrt[ww']{p^{zw'}}\sqrt[ww']{p^{z'w}}=p^{z/w}p^{z'/w'}
$$
以上，完成了指数取值为$\mathbb{Q}$时的定义。


---
**我们希望得到一个良好的性质：$a^x,x^a. a,x\in \mathbb{Q}$是单调区间组成的。**


这样我们才能确认函数曲线的确是我们通常画出来的那样。顺便，我们也才能用这种方法，把$a^x$的图像画出来。





证明:
要证
$$
\sqrt[y]{p^{x}}<\sqrt[y]{p^{x_+}}
$$
等价于证$\sqrt[y]{p}<\sqrt[y]{p_{+}}$，

以及$p^x<p^{x_+}$

第二个式子显然。

第一个式子的证明可参考构造根号2的那个文档。

**也就说明了函数$a^x$的分段单调。**

---
**要证函数$x^{a}$分段单调**,即证$\sqrt[w]{p_+^z}>\sqrt[w]{p^z}$，即证
$$p_+^z>p^z$$
易证。

---
**证$\sin x$分段单调**

由于角度可以取有理数，所以可直接使用它的几何意义证明。

---
**构造 $n=\log_q p$**


类似之前构造$\sqrt{2}$一样，同样需要一个逼近算法，可以用二分法逼近。但出于证明方便还是一次只确定1个分位：

$$
\log_2 5=x。2^2<5,2^3>5,a_1=2\\
由于y=a^x单调，继续逼近下去 \\
2^{2.3}<5,2^{2.4}>5,a_2=2.3\\

$$
类似地，我们要证明误差能任意小，
$$
e_i=p-q^{a_i}>0，q>1\\
a_n+\Delta_n=a_{n+1}\\
10^{-n}\leq \Delta_n <{10\times 10^{-n}}\\
q^{a_{n}}< p,q^{(a_{n}+10^{-{(n-1)}})}>p,n\geq 1  (*)\\
(q^{a_n}-p)(q^{a_n+10^{1-n}}-p)<0
 \\(p-e_i)q^{10^{1-n}}-p>0,e_i<p(1-1/q^{10^{1-n}})
$$
$q'=10^{1-n}\rightarrow 0$，如果要求$q^{q'}\rightarrow 1$，

就是在问下列命题是否成立

$任给\epsilon=z/w，能找到x/y，使得q^{x/y}-1<z/w$

我们整理一个更强的命题：

$任给\epsilon=1/w，w>1,w\in Z ,\\能找到y\in Z，使得q^{1/y}=(s/t)^{1/y}-1/w<1,s,t\in Z+, s>t$
结合$a^x$的单调性（这要先定义R-Q上的偏序），等价于证
$$
(\frac{s}{t})<(\frac{1}{w}+1)^y，除了y，其他变量我们都不能变动。
$$
$$
考虑右侧=\frac{(w+1)^y}{w^y}
$$
也就是要证明通过变动y，它能大于任意有理数，
即

$(w+1)^yt-w^ys>0$，先把这两个有理数通分，变为:

$$
(tw+t)^y(tw)-(tw)^y(sw)\\=(tw)((tw+t)^y-(tw)^{y-1}(sw))
$$

另一个思路是，证明右侧的分子和分母之间的差值可以任意大。


---

**推导初等函数的导数**

导数是割线斜率的极限。
$$
割线k(p^z)=((p+q)^z-p^z)/q
\\=(C_z^1qp^{z-1}+...C_z^zq^z)/q
=(C_z^1p^{z-1}+...C_z^zq^{z-1})\rightarrow zp^{z-1}
$$

$$
k(p^{1/z})
$$
根据反函数割线斜率的公式，$\frac{\Delta x}{\Delta y}=(\frac{\Delta y}{\Delta x})^{-1}$

$p^{1/z}在R上是一个双射，所以
k(p^{1/z})\rightarrow z^{-1}(p^{1/z})^{1-z}=z^{-1}p^{1/z-1}$

所以
$$
\frac{d(x^{y/z})}{dx}=\frac{d(x^{y/z})}{d(x^y)}\frac{d(x^y)}{dx}=z^{-1}(x^y)^{1/z-1}yx^{y-1}=x^{y/z-1}yz^{-1}
$$


将指数拓展为有理数，也就将乘法化为了加法。

---
**广义二项式定理**


$$
(fg)^{(n)}
,(fg)^2=f'g+fg',(fg)^{(3)}=(fg)^{(2)}(fg)
$$
这是因为有下列对应关系：
$$
(x^n,\oplus,+),(',*,+)\\
a^{n}=a^{n-1}a\leftrightarrow a^{(n)}=a^{(n-1)}a'\\
(a\oplus b)^2=a^2+b^2+ab+ba\leftrightarrow (ab)'=0\times (a''+b'')+a'b+ab'
\\
(ab)^{(n)}可以视作是对符号'的分配：
\\=(ab)'(ab)'...(ab)'，\\所以在二项式中，它二选一的不是a和b，而是'。
(ab)^{(n)}=\sum_{i=1}^{n-1} C a^{(i)}b^{(n-i)}
$$

---

**从集合映射的角度看初等函数**

为了让x^n的值域能填满所有Q 发明了根号
于是映射扩充为了 R→R

为了让a^x的值域填满Q 发明了对数
同样映射扩充为了 R→R

但光是填满Q不够 我们还希望y值不会跳来跳去，它是连续的。
装备了连续性以后，想要y的变动不超过e只要x的变动不超过δ即可

那y=x5-x+1没有根式解，它也是填满的吗？
也就是问x5-x+1=任意q 是否能以任意精度逼近
等价于x5-x任意-q=0是不是有任意精度的零点x0。
由代数基本定理可知这在复数域内可以。也就是映射：
x0→q，x0是代数数。

p.s.s sin qx是代数数 ln2不是，q是有理数


此外 既然x2可以在整数点以外插值
阶乘也可以插值

多项式是连续的。复平面内做包含原点的回路，足够大时像也包含原点A。放缩到一个点，像也收缩到一个点，会以任意精度靠近原点B。
A z的模大于R，由最高次项决定回路大致距离原点多远。