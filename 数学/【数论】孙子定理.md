推导孙子定理。

先看只有两个方程的情况：
$$
x\equiv a \mod n\\
x\equiv b \mod m
\tag{1}
$$


由于$cd|(x-a) \Rightarrow c|(x-a)$，发现这个条件可以得到减弱：
$$
\Rightarrow
x\equiv a \mod n/(m,n)\\
x\equiv b \mod m/(m,n)
\tag{2}
$$
这个方程组的解是前面那个方程的解的必要条件，感觉不够令人满意，但还是试一下吧。一个大概的想法是把模数统一，所以两个式子分别乘一个系数让它们的模数相同，再相加，会发现其实这就是一个一阶同余方程(式3)，可以解。



可是，这又是式子2的必要条件了——这个推导是单向的，越推，就越往第一个方程组的解集的父集合里去了。


借鉴解线性方程组里的思路，保持充要条件的方法是仍然保留式子2中的一个式子+式子3。
可是既然如此，感觉没必要把m和n约分，直接用式子1来做这个。可以得到1的等价方程组：
$$
(m+n)x=ma+nb \mod mn \\
x=b \mod m
$$



若(m+n,mn)=1，则(m,n)=1

$$
\Leftrightarrow\\
x=(ma+nb)(m+n)^{-1} \mod mn \\
x=b \mod m
$$


$$
\Rightarrow\\
x=(ma+nb)(m+n)^{-1} \mod m \\
x=b \mod m
$$



---



下一步  我们试着看能否直接写出这个解的表达式。
注意到上述过程其实将两个模数不互素的一阶方程转换为了两个互素的，所以，如果我们现在有很多个一阶方程，假设完全是随意给的，有些互素有些不互素，那么我们就先把那些不互素的用上述方法全部转换成互素的，得到一个新的方程组，其中每个等式的模数两两之间都互素，也就是一个方程组

$x\equiv a_i\mod n_i,i=1,2,...N$

其中$n_i$两两互素。

我们先尝试一下让所有方程的模数统一：也就是每个式子会变形为
$$
\Leftrightarrow
\frac{\prod_{j} n_j}{n_i}x\equiv a_i \frac{\prod_{j} n_j}{n_i}\mod \prod_{j} n_j
\\
$$
$$记M_i=\frac{\prod_j n_j}{n_i}$$
这里有两条路：1.像一开始一样求和，但是那么做后续似乎就不能化简了，只能去算那个具体的方程的解，2.另一个办法是：
$$
\Rightarrow
M_ix\equiv a_i M_i\mod n_i
$$
显然$n_i$与$M_i$互素，所以
